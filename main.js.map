{"version":3,"sources":["./src/app/admin/shared/services/auth.service.ts","./src/app/shared/components/main-layout/main-layout.component.ts","./src/app/shared/components/main-layout/main-layout.component.html","./src/environments/environment.ts","./src/app/shared/post.service.ts","./src/app/shared/shared.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/shared/auth.interceptor.ts","./src/app/shared/components/post/post.component.html","./src/app/shared/components/post/post.component.ts","./src/app/front/post-page/post-page.component.ts","./src/app/front/post-page/post-page.component.html","./src/app/front/home-page/home-page.component.html","./src/app/front/home-page/home-page.component.ts","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {Injectable} from '@angular/core';\r\nimport {HttpClient, HttpErrorResponse} from \"@angular/common/http\";\r\nimport {User} from \"../../../shared/interfaces\";\r\nimport {Observable, Subject, throwError} from \"rxjs\";\r\nimport {environment} from \"../../../../environments/environment\";\r\nimport {catchError, tap} from \"rxjs/operators\";\r\nimport {FirebaseAuthResponse} from \"../../../shared/interfaces\";\r\n\r\n@Injectable({providedIn: \"root\"})\r\nexport class AuthService {\r\n\r\n  public error$: Subject<string> = new Subject<string>();\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  get token(): string | null {\r\n    const expDate = localStorage.getItem('firebase-token-exp');\r\n    if (expDate && new Date() > new Date(expDate)) {\r\n      this.logout();\r\n      return null;\r\n    }\r\n    return localStorage.getItem('firebase-token');\r\n  }\r\n\r\n  login(user: User): Observable<any> {\r\n    user.returnSecureToken = true;\r\n    return this.http.post<FirebaseAuthResponse>(`https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${environment.apiKey}`, user)\r\n      .pipe(\r\n        tap(this.setToken),\r\n        catchError(this.handleError.bind(this))\r\n      );\r\n  }\r\n\r\n  logout(): void {\r\n    this.setToken(null);\r\n  }\r\n\r\n  isAuthenticated(): boolean {\r\n    return Boolean(this.token);\r\n  }\r\n\r\n  private setToken(response: FirebaseAuthResponse | null): void {\r\n    if (response) {\r\n      const expDate = new Date(new Date().getTime() + Number(response.expiresIn) * 1000);\r\n      localStorage.setItem('firebase-token', response.idToken);\r\n      localStorage.setItem('firebase-token-exp', expDate.toString());\r\n    } else {\r\n      localStorage.clear();\r\n    }\r\n  }\r\n\r\n  private handleError(error: HttpErrorResponse): Observable<string>\r\n  {\r\n    const {message} = error.error.error;\r\n\r\n    switch (message) {\r\n      case 'EMAIL_NOT_FOUND' :\r\n        this.error$.next('Email not found');\r\n        break;\r\n      case 'INVALID_PASSWORD':\r\n        this.error$.next('Invalid password');\r\n        break;\r\n      case 'USER_DISABLED':\r\n        this.error$.next('User disabled');\r\n        break;\r\n    }\r\n\r\n    return throwError(error);\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-main-layout',\n  templateUrl: './main-layout.component.html',\n  styleUrls: ['./main-layout.component.scss']\n})\nexport class MainLayoutComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<nav class=\"navbar main\">\n  <h1>Angular blog</h1>\n</nav>\n\n<div class=\"container\">\n  <router-outlet></router-outlet>\n</div>\n\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nimport {Environment} from \"./interface\";\n\nexport const environment: Environment = {\n  production: false,\n  apiKey: 'AIzaSyCOqPpPi5e2b6FShN9nLlNbeSDqQ5GGjBA',\n  firebaseDatabaseUrl: 'https://angular-blog-6522f-default-rtdb.europe-west1.firebasedatabase.app/',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {Injectable} from \"@angular/core\";\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {Observable} from \"rxjs\";\r\nimport {FirebaseCreateResponse, Post} from \"./interfaces\";\r\nimport {environment} from \"../../environments/environment\";\r\nimport {map} from \"rxjs/operators\";\r\n\r\n@Injectable({providedIn: \"root\"})\r\nexport class PostService {\r\n  constructor(\r\n    private http: HttpClient\r\n  ) {\r\n  }\r\n\r\n  create(post: Post): Observable<Post> {\r\n    return this.http.post<any>(`${environment.firebaseDatabaseUrl}/posts.json`, post)\r\n      .pipe(map((response: FirebaseCreateResponse) => {\r\n        return {\r\n          ...post,\r\n          id: response.name,\r\n          date: new Date(post.date)\r\n        };\r\n      }));\r\n  }\r\n\r\n  getAll(): Observable<Post[]> {\r\n    return this.http.get<Post[]>(`${environment.firebaseDatabaseUrl}/posts.json`)\r\n      .pipe(map((response: {[key: string]: any}) => {\r\n        return Object.keys(response).map(key => ({\r\n          ...response[key],\r\n          id: key,\r\n          date: new Date(response[key].date)\r\n        }));\r\n    }));\r\n  }\r\n\r\n  getById(id: string): Observable<Post> {\r\n    return this.http.get<Post>(`${environment.firebaseDatabaseUrl}/posts/${id}.json`)\r\n      .pipe(map((post: Post) => ({\r\n        ...post,\r\n        id,\r\n        date: new Date(post.date)\r\n      })));\r\n  }\r\n\r\n  update(post: Post): Observable<Post> {\r\n    return this.http.patch<Post>(`${environment.firebaseDatabaseUrl}/posts/${post.id}.json`, post);\r\n  }\r\n\r\n  remove(id: string): Observable<void> {\r\n    return this.http.delete<void>(`${environment.firebaseDatabaseUrl}/posts/${id}.json`);\r\n  }\r\n}\r\n","import {NgModule} from \"@angular/core\";\r\nimport {HttpClientModule} from \"@angular/common/http\";\r\n\r\n@NgModule({\r\n  imports: [HttpClientModule],\r\n  exports: [HttpClientModule]\r\n})\r\nexport class SharedModule{\r\n\r\n}\r\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'angular-blog';\n}\n","<router-outlet></router-outlet>\n","import { NgModule } from '@angular/core';\r\nimport { ServiceWorkerModule } from '@angular/service-worker';\r\n\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { MainLayoutComponent } from './shared/components/main-layout/main-layout.component';\r\nimport { HomePageComponent } from './front/home-page/home-page.component';\r\nimport { PostPageComponent } from './front/post-page/post-page.component';\r\nimport {PostComponent} from './shared/components/post/post.component';\r\nimport {SharedModule} from \"./shared/shared.module\";\r\nimport {HTTP_INTERCEPTORS} from \"@angular/common/http\";\r\nimport {AuthInterceptor} from \"./shared/auth.interceptor\";\r\nimport { environment } from '../environments/environment';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    MainLayoutComponent,\r\n    HomePageComponent,\r\n    PostPageComponent,\r\n    PostComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    SharedModule,\r\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production })\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      multi: true,\r\n      useClass: AuthInterceptor\r\n    }\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import {Injectable} from \"@angular/core\";\r\nimport {\r\n  HttpErrorResponse,\r\n  HttpEvent,\r\n  HttpHandler,\r\n  HttpInterceptor,\r\n  HttpRequest\r\n} from \"@angular/common/http\";\r\nimport {Observable, throwError} from \"rxjs\";\r\nimport {AuthService} from \"../admin/shared/services/auth.service\";\r\nimport {Router} from \"@angular/router\";\r\nimport {catchError} from \"rxjs/operators\";\r\n\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) {\r\n  }\r\n\r\n  intercept(\r\n    req: HttpRequest<any>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<any>> {\r\n    if (this.authService.isAuthenticated()){\r\n      req = req.clone({\r\n        setParams: {\r\n          auth: String(this.authService.token)\r\n        }\r\n      });\r\n    }\r\n    return next.handle(req)\r\n      .pipe(catchError((err: HttpErrorResponse) => {\r\n        console.error('[Interceptor Error]: ', err);\r\n        if (err.status === 401) {\r\n          this.authService.logout();\r\n          this.router.navigate(['/admin', 'login'], {\r\n              queryParams: {\r\n                sessionExpired: true\r\n              }\r\n          });\r\n        }\r\n        return throwError(err);\r\n      }));\r\n  }\r\n\r\n}\r\n","<div class=\"card\" *ngIf=\"post\">\r\n  <div class=\"card-header\">\r\n    <h2>{{post.title}}</h2>\r\n    <small>{{post.date | date:'dd.MM.yyyy' }}</small>\r\n  </div>\r\n  <div>\r\n    <small>{{post.author}}</small>\r\n  </div>\r\n\r\n  <button class=\"btn btn-dark\" [routerLink]=\"['/post', post.id]\">Open</button>\r\n</div>\r\n","import {Component, Input, OnInit} from '@angular/core';\r\nimport {Post} from \"../../interfaces\";\r\n\r\n@Component({\r\n  selector: 'app-post',\r\n  templateUrl: './post.component.html',\r\n  styleUrls: ['./post.component.scss']\r\n})\r\nexport class PostComponent implements OnInit {\r\n\r\n  @Input() post: Post | null = null;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import {Component, Input, OnInit} from '@angular/core';\r\nimport {Post} from \"../../shared/interfaces\";\r\nimport {ActivatedRoute, Params} from \"@angular/router\";\r\nimport {Observable} from \"rxjs\";\r\nimport {PostService} from \"../../shared/post.service\";\r\nimport {switchMap} from \"rxjs/operators\";\r\n\r\n@Component({\r\n  selector: 'app-post-page',\r\n  templateUrl: './post-page.component.html',\r\n  styleUrls: ['./post-page.component.scss']\r\n})\r\nexport class PostPageComponent implements OnInit {\r\n\r\n  public post$: Observable<Post>;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private postService: PostService\r\n  ) {\r\n    this.post$ = this.route.params.pipe(switchMap((params: Params) => {\r\n      return this.postService.getById(params.id);\r\n    }));\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"posts\" *ngIf=\"post$ | async as post; else loading\">\r\n  <div class=\"post\">\r\n    <div class=\"header\">\r\n      <h1>{{ post.title }}</h1>\r\n\r\n      <button routerLink=\"/\" class=\"bth btn-link\">Home</button>\r\n    </div>\r\n\r\n    <div class=\"info\">\r\n      <strong>{{post.author}}</strong>\r\n      <small>{{post.date | date:'dd.MM.yyyy' }}</small>\r\n    </div>\r\n\r\n    <hr>\r\n\r\n    <div [innerHTML]=\"post.text\"></div>\r\n  </div>\r\n</div>\r\n\r\n<ng-template #loading>\r\n  <p class=\"text-center\">Loading...</p>\r\n</ng-template>\r\n","<div class=\"posts\" *ngIf=\"posts$ | async as posts; else loading\">\r\n  <app-post *ngFor=\"let post of posts\" [post]=\"post\"></app-post>\r\n</div>\r\n\r\n<ng-template #loading>\r\n  <p class=\"text-center\">Loading...</p>\r\n</ng-template>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {PostService} from \"../../shared/post.service\";\r\nimport {Observable} from \"rxjs\";\r\nimport {Post} from \"../../shared/interfaces\";\r\n\r\n@Component({\r\n  selector: 'app-home-page',\r\n  templateUrl: './home-page.component.html',\r\n  styleUrls: ['./home-page.component.scss']\r\n})\r\nexport class HomePageComponent implements OnInit {\r\n\r\n  posts$: Observable<Post[]> = this.postService.getAll();\r\n\r\n  constructor(\r\n    private postService: PostService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\nimport {PreloadAllModules, RouterModule, Routes} from '@angular/router';\nimport {MainLayoutComponent} from \"./shared/components/main-layout/main-layout.component\";\nimport {HomePageComponent} from \"./front/home-page/home-page.component\";\nimport {PostPageComponent} from \"./front/post-page/post-page.component\";\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MainLayoutComponent,\n    children: [\n      {\n        path: '',\n        redirectTo: '/',\n        pathMatch: 'full'\n      },\n      {\n        path: '',\n        component: HomePageComponent\n      },\n      {\n        path: 'post/:id',\n        component: PostPageComponent\n      }\n    ]\n  },\n  {\n    path: 'admin',\n    loadChildren: () => import('./admin/admin.module').then(m => m.AdminModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes, {\n    preloadingStrategy: PreloadAllModules\n  })],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}